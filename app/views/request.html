<!-- <div class="btn btn-default marb10" ng-click="previous()" ng-enter="previous()" tabindex="2"><span class="glyphicon glyphicon-chevron-left"></span>&nbsp;Back to Overview</div> -->
<div class="container center">
  <h2 class="textalign-center clearfix" translate="request.title" translate-values="{operator: operator.title}"></h2>
  <p class="darkgray lineheight-copy" translate="request.callout"></p>
  <!-- <p class="darkgray b lineheight-copy" translate="request.callout-hkid"></p> -->
 <!--
  Move to thank you page
  <div ng-if="serverResponse.success" class="backgroundcolor-pastelteal padding-medium">
    <div ng-messages="serverResponse.responseStatuses">
      <div ng-messages-include="status-messages"></div>
    </div>
  </div>
  -->
  <div>
    <div class="" ng-if="(displayInstructions && letterDoneState)" ng-click="instructionsDisplayToggle()"><span translate="request.instructions.hide">!!</span> <i class="fa fa-chevron-up"></i></div>
    <div class="" ng-if="(!displayInstructions && letterDoneState)" ng-click="instructionsDisplayToggle()"><span translate="request.instructions.show"></span> <i class="fa fa-chevron-down"></i></div>
  </div>
  <p ng-if="(!letterDoneState || displayInstructions)" class="bigger"><span translate="request.instructions.read-careful"></span></p>

  <!-- EMAIL OPTION BEGIN -->
  <div class="backgroundcolor-lightgrey padding-medium clearfix">
    <div ng-if="(!letterDoneState || displayInstructions)">
      <div ng-if="operator.meta.privacy_officer_email">
        <p class="lineheight-copy margintop-none" translate="request.instructions.email-instructions"></p>
        <div class="clearfix">
            <address class="fontstyle-normal f5 paddingleft-medium borderleft-thick bordercolor-white marginbottom-medium lineheight-1p5">
              <span translate="request.instructions.privacy-officer-title" translate-values="{operator: operator.title}"></span>
              <br/><strong>{{operator.meta.privacy_officer_email}}</strong>
            </address>
        </div>
      </div>
      <span class="marb10 bg-danger p-bg" ng-if="!operator.meta.privacy_officer_email" translate="request.email-unavailable"></span>
    </div>
    <div class="clearfix" ng-class="{faded: (letterDoneState && !displayInstructions)}">
      <div>
        <a ng-href="{{email.contents}}" target="_blank" tabindex="1" ng-click="emailClick()" ng-mouseenter="emailBtnHover = true" ng-mouseleave="emailBtnHover = false" >
          <button class="btn btn-primary" ng-class="{disabled: !operator.meta.privacy_officer_email}">
            <span class="fa fa-send"></span>&nbsp;&nbsp;<span translate="request.emailButton"></span>
          </button>
        </a>
        <!--
        <div class="tooltip-container margintop-small gray small" ng-if="(displayEmailExtras && emailBtnHover)">
          <div class="tooltip bottom">
            <div class="tooltip-arrow"></div>
            <div class="tooltip-inner" translate="request.emailProblem" translate-values="{email: operator.meta.privacy_officer_email}"></div>
          </div>
        </div>
        -->
      </div>
    </div>
    <div class="clearfix p-bg p-bg-l bg-success mart10 marb10" ng-if="letterDoneState">
      <h2 class="mart0 marb10" translate="request.thanks"></h2>
    </div>
    <div class="margintop-medium">
      <a ng-click="instructionsDisplayToggle()" class="display-block f5 margintop-none cursor-pointer">
        <span class="b" translate="request.instructions.email-empty-prompt"></span>
      </a>
      <!-- reveals if click above -->
      <div ng-show="displayInstructions" class="margintop-medium backgroundcolor-white xsmall black60 paddingvertical-small paddinghorizontal-large ">
        <div class="textalign-center margintop-medium marginbottom-large">
          <button class="btn btn-primary xsmall" ngclipboard data-clipboard-target="#request">
            <span translate="request.instructions.email-empty-instructions"></span>
          </button>
        </div>
        <div>
          <request-template id="request" jurisdiction="jurisdiction" industry="industry" operator="operator" servicelist="servicelist" subject="subject" date="date" componentquestions="componentquestions" componentdata="componentdata" services="services" pdf="pdf" email="email" emailsubject="'Formal Request for Personal Information Held By Your Company'" pdffilenameprefix="'Access_To_Information_Request'"></request-template>
        </div>
      </div>
    </div>
  </div>
  <!-- EMAIL OPTION END -->

  <div class="backgroundcolor-lightgrey margintop-large padding-medium clearfix">
    <div ng-show="pdfOptionEnabled">
      <div ng-if="(!letterDoneState || displayInstructions)">
        <p class="lineheight-copy margintop-none" translate="request.instructions.post-instructions"></p>
        <div class="clearfix row">
          <address class="fontstyle-normal f5 paddingleft-medium borderleft-thick bordercolor-white marginbottom-medium lineheight-1p5">
            <strong translate="request.instructions.privacy-officer-title" translate-values="{operator: operator.title}"></strong>
            <br ng-if="operator.meta.privacy_contact_city">{{operator.meta.privacy_contact_address_1}}
            <br ng-if="operator.meta.privacy_contact_address_2"/>{{operator.meta.privacy_contact_address_2}}
            <br ng-if="operator.meta.privacy_contact_city">{{operator.meta.privacy_contact_city}}, {{operator.meta.privacy_contact_province_state}}
            <br ng-if="operator.meta.privacy_contact_city">{{operator.meta.privacy_contact_postal_code}}
            <!--
            <div ng-if="operator.meta.privacy_officer_email" class="mart5">Or email to: {{operator.meta.privacy_officer_email}}</div>
            -->
          </address>
        </div>
      </div>
    </div>
    <div class="marb10" ng-show="pdfOptionEnabled">
      <div class="btn btn-lg btn-primary generatorBtn" ng-class="{disabled:pdf.isGenerating, faded: (letterDoneState && !displayInstructions)}" ng-click="generatePDF()" ng-enter="generatePDF()" tabindex="1">
          <span class="fa" ng-class="{'fa-file-pdf-o': !nextIsLoading, 'fa-spinner': nextIsLoading, rotating: nextIsLoading}"></span> 
        <span ng-show="!pdf.isGenerating && !pdf.isGenerated">
           &nbsp;<span translate="request.pdfButton.generate"></span>
          </span>
          <span ng-show="pdf.isGenerating && !pdf.isGenerated">
            &nbsp;<span translate="status.wait"></span>
          </span>
          <span ng-show="!pdf.isGenerating && pdf.isGenerated">
            &nbsp;<span translate="request.pdfButton.re-save"></span>
          </span>
      </div>
    </div>
  </div>
  <div class="margintop-large clearfix">
    <button ng-click="previous()" class="btn btn-previous float-left" ng-disabled="(previousStage.selecting || previousStage.restricted)">
        <span translate="status.previous"></span>
    </button>
    <button ng-click="next()" class="btn float-right" ng-disabled="nextStage.selecting || nextStage.restricted" ng-class="{'btn-primary': (!nextStage.selecting && !nextStage.restricted), 'btn-disabled': (nextStage.selecting || nextStage.restricted)}">
      <span translate="status.next"></span>
    </button>
  </div>
</div>